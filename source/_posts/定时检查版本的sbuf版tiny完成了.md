---
title: 定时检查版本的sbuf版tiny完成了
cwd: hexo/myblog
date: 2020-09-26 12:17:12
tags:
- 日常
- csapp
---

emmm因为思考的挺多的，而且并不需要写大量代码，所以直接改了。

过程中遇到了check很难从关闭中走出来的情况，自己明明最开始的时候就考虑过这个饥饿的情况，真的写的时候反而忘了...

类似第二类读者写者问题，在所有服务线程的入口处加上一个入口信号量即可，并且让check\_thread到来时，保持入口信号量直到他的操作完成，这样就可以使得所有后来的服务线程无法申请到自己的资源，就这样

