---
title: 吐槽下计蒜之道的c题
cwd: hexo/myblog
date: 2020-09-21 12:44:07
tags:
- 线段树
- 胡思乱想
---

与其说是吐槽，不如说是反省自己。这道题是自己第一次在做计蒜之道的中等题时有思路的题，然后线段树内存超了...最后也没能ac。

事后看题解发现c的题解也是线段树，然而出题人内存卡的很死，如果用常规方法建线段树最少需要内存是524287.5KB，而限制是524288KB，加上用来合并的两个数组再占0.5KB，已然达到限制...

所以只能用非常规手段建线段树，因为一共是2\*n-1个节点嘛，然后加上两个指向左右孩子的下标内存也还勉强够用，所以可以借助build时返回一个自己的下标来做。

修改后提交就a了（

算是给自己上了一课吧，嘛第一时间知道线段树是题解的时候是很难受的，但是是自己不好好计算内存的锅，而且这样建线段树也是一种独特的思路，是一次非常有意义的经验。

