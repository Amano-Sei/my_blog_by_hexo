---
title: 关于预线程化版本tiny
cwd: hexo/myblog
date: 2020-09-25 09:14:16
tags:
- 日常
- csapp
---

果然一牵扯到semaphore就好复杂啊（

这里我认为应该在sbuf\_remove和sbuf\_insert的过程中判断本次操作是否会导致sbuf的空或是满。

如果额外的设置修正线程会导致信号量越来越复杂...最少我看到的两个答案说实话做的都不是很好，一开始我还觉得很妙，但是随着阅读和思考发现还是不行（为什么我要说还是...

但是我的想法有一个问题，就是有可能会有比较严重的抖动，不过只要我的最低线程数不是设成1应该也不会很严重...

本来书上只是给的建议，而且也没说空的时候一定要减半...差点就被某答案给带跑偏（

下午做吧，上午想写写dp。

