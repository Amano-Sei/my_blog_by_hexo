---
title: 再次关于二分
cwd: /home/amano-sei/hexo/myblog
date: 2020-11-28 22:38:02
mathjax: true
tags:
- 二分查找
- 思考
---

二分用来在有序的连续存储的数据结构中找在这种顺序下第一个在某个值"后面"或"前后无所谓或后面"的值非常方便。类似的第一个满足某种条件的值如果条件与顺序相关也是可以做的。

因为发觉自己二分还在迷，所以这里写点自己["关于之前写过的那种二分"](/2020/11/01/其实自己二分的理解一直都有点问题/)的思考。

l用来返回第一个满足某条件的值，r是最后一个不满足某条件的值。

区间的变化要考虑满足条件的值还在哪个范围，时刻保持满足条件的值还在范围内即可。

顺序一定要让满足条件的值在后方，不满足的值在前方。

因为范围是$\[l, r\+1\]$，我们需要有意识地调整判断条件使得m可能是结果的情况向左侧收缩。不便于调整判断条件的情况，适当调整寻找的是什么值也是可以考虑的。

虽然写的很乱，感觉自己理了下之后好了点，不知道之后再遇到二分时会怎样。

下面是思考后的新伪代码。

```
bool somecondition(int a, int b){
    //返回a是否满足某条件
}

int bitsearch(int l, int r, int x){
    //l到r事先排序使得前面的不满足某条件，后面的满足某条件
    while(l <= r){
        int m = (l+r)>>1;
        if(somecondition(m, x))
            //如果满足某条件
            r = m-1;
        else
            l = m+1;
    }
    return l;
    //返回的是第一个满足某条件的值。
}
```

证明的话，和之前是一模一样的，不过这里的二分就具有普遍性了，可以处理一切可以事先排序的问题。

不知道之后自己还会不会再迷呢（

